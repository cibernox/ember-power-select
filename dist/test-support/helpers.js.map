{"version":3,"file":"helpers.js","sources":["../../src/test-support/helpers.ts"],"sourcesContent":["import {\n  click,\n  fillIn,\n  triggerKeyEvent,\n  triggerEvent,\n} from '@ember/test-helpers';\n/**\n * @private\n * @param {String} selector CSS3 selector of the elements to check the content\n * @param {String} text Substring that the selected element must contain\n * @returns HTMLElement The first element that maches the given selector and contains the\n *                      given text\n */\nexport function findContains(selector: string, text: string) {\n  return Array.from(document.querySelectorAll(selector)).filter((e) => {\n    return (e.textContent ?? '').indexOf(text) > -1;\n  })[0];\n}\n\nexport async function nativeMouseDown(\n  selectorOrDomElement: Parameters<typeof triggerEvent>[0],\n  options?: Parameters<typeof triggerEvent>[2],\n) {\n  return triggerEvent(selectorOrDomElement, 'mousedown', options);\n}\n\nexport async function nativeMouseUp(\n  selectorOrDomElement: Parameters<typeof triggerEvent>[0],\n  options?: Parameters<typeof triggerEvent>[2],\n) {\n  return triggerEvent(selectorOrDomElement, 'mouseup', options);\n}\n\nexport async function triggerKeydown(\n  domElement: Parameters<typeof triggerKeyEvent>[0],\n  k: Parameters<typeof triggerKeyEvent>[2],\n) {\n  return triggerKeyEvent(domElement, 'keydown', k);\n}\n\nexport function typeInSearch(scopeOrText: string, text?: string) {\n  let scope = '';\n\n  if (typeof text === 'undefined') {\n    text = scopeOrText;\n  } else {\n    scope = scopeOrText;\n  }\n\n  const selectors = [\n    '.ember-power-select-search-input',\n    '.ember-power-select-search input',\n    '.ember-power-select-trigger-multiple-input',\n    'input[type=\"search\"]',\n  ]\n    .map((selector) => `${scope} ${selector}`)\n    .join(', ');\n\n  return fillIn(selectors, text);\n}\n\nexport async function clickTrigger(\n  scope?: string,\n  options?: Parameters<typeof click>[1],\n) {\n  let selector = '.ember-power-select-trigger';\n  if (scope) {\n    selector = `${scope} ${selector}`;\n  }\n  return click(selector, options);\n}\n\nexport async function nativeTouch(\n  selectorOrDomElement: Parameters<typeof triggerEvent>[1],\n) {\n  triggerEvent(selectorOrDomElement, 'touchstart');\n  return triggerEvent(selectorOrDomElement, 'touchend');\n}\n\nexport async function touchTrigger() {\n  return nativeTouch('.ember-power-select-trigger');\n}\n"],"names":["findContains","selector","text","Array","from","document","querySelectorAll","filter","e","textContent","indexOf","nativeMouseDown","selectorOrDomElement","options","triggerEvent","nativeMouseUp","triggerKeydown","domElement","k","triggerKeyEvent","typeInSearch","scopeOrText","scope","selectors","map","join","fillIn","clickTrigger","click","nativeTouch","touchTrigger"],"mappings":";;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,YAAYA,CAACC,QAAgB,EAAEC,IAAY,EAAE;AAC3D,EAAA,OAAOC,KAAK,CAACC,IAAI,CAACC,QAAQ,CAACC,gBAAgB,CAACL,QAAQ,CAAC,CAAC,CAACM,MAAM,CAAEC,CAAC,IAAK;AACnE,IAAA,OAAO,CAACA,CAAC,CAACC,WAAW,IAAI,EAAE,EAAEC,OAAO,CAACR,IAAI,CAAC,GAAG,EAAE;EACjD,CAAC,CAAC,CAAC,CAAC,CAAC;AACP;AAEO,eAAeS,eAAeA,CACnCC,oBAAwD,EACxDC,OAA4C,EAC5C;AACA,EAAA,OAAOC,YAAY,CAACF,oBAAoB,EAAE,WAAW,EAAEC,OAAO,CAAC;AACjE;AAEO,eAAeE,aAAaA,CACjCH,oBAAwD,EACxDC,OAA4C,EAC5C;AACA,EAAA,OAAOC,YAAY,CAACF,oBAAoB,EAAE,SAAS,EAAEC,OAAO,CAAC;AAC/D;AAEO,eAAeG,cAAcA,CAClCC,UAAiD,EACjDC,CAAwC,EACxC;AACA,EAAA,OAAOC,eAAe,CAACF,UAAU,EAAE,SAAS,EAAEC,CAAC,CAAC;AAClD;AAEO,SAASE,YAAYA,CAACC,WAAmB,EAAEnB,IAAa,EAAE;EAC/D,IAAIoB,KAAK,GAAG,EAAE;AAEd,EAAA,IAAI,OAAOpB,IAAI,KAAK,WAAW,EAAE;AAC/BA,IAAAA,IAAI,GAAGmB,WAAW;AACpB,EAAA,CAAC,MAAM;AACLC,IAAAA,KAAK,GAAGD,WAAW;AACrB,EAAA;EAEA,MAAME,SAAS,GAAG,CAChB,kCAAkC,EAClC,kCAAkC,EAClC,4CAA4C,EAC5C,sBAAsB,CACvB,CACEC,GAAG,CAAEvB,QAAQ,IAAK,CAAA,EAAGqB,KAAK,CAAA,CAAA,EAAIrB,QAAQ,CAAA,CAAE,CAAC,CACzCwB,IAAI,CAAC,IAAI,CAAC;AAEb,EAAA,OAAOC,MAAM,CAACH,SAAS,EAAErB,IAAI,CAAC;AAChC;AAEO,eAAeyB,YAAYA,CAChCL,KAAc,EACdT,OAAqC,EACrC;EACA,IAAIZ,QAAQ,GAAG,6BAA6B;AAC5C,EAAA,IAAIqB,KAAK,EAAE;AACTrB,IAAAA,QAAQ,GAAG,CAAA,EAAGqB,KAAK,CAAA,CAAA,EAAIrB,QAAQ,CAAA,CAAE;AACnC,EAAA;AACA,EAAA,OAAO2B,KAAK,CAAC3B,QAAQ,EAAEY,OAAO,CAAC;AACjC;AAEO,eAAegB,WAAWA,CAC/BjB,oBAAwD,EACxD;AACAE,EAAAA,YAAY,CAACF,oBAAoB,EAAE,YAAY,CAAC;AAChD,EAAA,OAAOE,YAAY,CAACF,oBAAoB,EAAE,UAAU,CAAC;AACvD;AAEO,eAAekB,YAAYA,GAAG;EACnC,OAAOD,WAAW,CAAC,6BAA6B,CAAC;AACnD;;;;"}