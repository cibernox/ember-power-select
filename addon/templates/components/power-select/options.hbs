<ul role="listbox" aria-controls="ember-power-select-trigger-{{@select.uniqueId}}" {{did-insert this.addHandlers}} ...attributes>
  {{! template-lint-disable no-unnecessary-concat }}
  {{#if @select.loading}}
    {{#if @loadingMessage}}
      <li class="ember-power-select-option ember-power-select-option--loading-message" role="option">{{@loadingMessage}}</li>
    {{/if}}
  {{/if}}
  {{#let (component @groupComponent) (component @optionsComponent) (component @optionComponent) as |Group Options Option|}}
    {{#each @options as |opt index|}}
      {{#if (ember-power-select-is-group opt)}}
        <Group @group={{opt}} @select={{@select}} @extra={{@extra}}>
          <Options
            @options={{opt.options}}
            @select={{@select}}
            @groupIndex="{{@groupIndex}}{{index}}."
            @optionsComponent={{@optionsComponent}}
            @optionComponent={{@optionComponent}}
            @groupComponent={{@groupComponent}}
            @extra={{@extra}}
            role="group"
            class="ember-power-select-options" as |option|>
            {{yield option @select}}
          </Options>
        </Group>
      {{else}}
      <Option
        @option={{opt}}
        @select={{@select}}
        @fullIndex="{{@groupIndex}}{{index}}">
        {{yield opt @select}}
      </Option>
      {{/if}}
    {{/each}}
  {{/let}}
</ul>